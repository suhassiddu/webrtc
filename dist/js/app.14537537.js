(function(e){function t(t){for(var o,r,u=t[0],s=t[1],c=t[2],l=0,m=[];l<u.length;l++)r=u[l],a[r]&&m.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a={app:0},i=[];function u(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"2d0868bc"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"66f0f493"}[e]+".css",a=s.p+o,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===o||l===a))return t()}var m=document.getElementsByTagName("style");for(u=0;u<m.length;u++){c=m[u],l=c.getAttribute("data-href");if(l===o||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.request=o,delete r[e],f.parentNode.removeChild(f),n(i)},f.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(f)}).then(function(){r[e]=0}));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(function(t,n){o=a[e]=[t,n]});t.push(o[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e),c=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[e]=void 0}};var m=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01ea":function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i});n("cadf"),n("551c"),n("097d");var o="",r={joinRoom:"joinRoom",setRooms:"setRooms",changeRoom:"changeRoom",leaveChat:"leaveChat",changeStatus:"changeStatus"},a={joinPrivateRoom:"joinPrivateRoom",joinRoom:"joinRoom",leaveRoom:"leaveRoom",publicMessage:"publicMessage",leavePrivateRoom:"leavePrivateRoom",leaveChat:"leaveChat",changeStatus:"changeStatus",privateMessage:"privateMessage"},i={available:"available",absent:"absent",unavailable:"unavailable"}},1:function(e,t){},"21bb":function(e,t,n){"use strict";var o=n("bcc9"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=(n("5c0b"),n("2877")),u={},s=Object(i["a"])(u,r,a,!1,null,null,null);s.options.__file="App.vue";var c=s.exports,l=n("8c4f"),m=n("43f9"),f=n.n(m),d=(n("51de"),n("e094"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"options"},[n("h2",[e._v("VIDEO CHAT")]),n("div",[n("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("md-field",[n("label",[e._v("Username")]),n("md-input",{attrs:{type:"string",id:"username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("md-field",[n("label",{attrs:{for:"movie"}},[e._v("Room")]),n("md-select",{attrs:{name:"room",id:"room"},model:{value:e.room,callback:function(t){e.room=t},expression:"room"}},e._l(e.rooms,function(t){return n("md-option",{key:t.id,attrs:{value:t.name}},[e._v(e._s(t.name)+"\n          ")])}),1)],1),e.error?n("div",{staticClass:"options-error"},[n("p",[e._v(e._s(e.error))])]):e._e(),n("div",{staticClass:"options__submit"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit",disabled:!(e.username&&e.room)}},[e._v("JOIN\n        ")])],1)],1)])])}),v=[],p=(n("96cf"),n("3b8d")),h=n("01ea"),b={name:"home",data:function(){return{username:void 0,room:void 0,rooms:[],error:void 0,defaultError:"Something went wrong"}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.get("".concat(h["d"],"/rooms"));case 3:t=e.sent,this.rooms=t.body,this.$store.dispatch(h["b"].setRooms,this.rooms),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.error=this.defaultError,console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{submitForm:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.username&&this.room){e.next=2;break}return e.abrupt("return");case 2:return this.error=void 0,t={room:this.room,username:this.username},e.prev=4,e.next=7,this.$http.post("".concat(h["d"],"/auth/login"),t);case 7:if(n=e.sent,400!==n.body.code&&401!==n.body.code&&500!==n.body.code){e.next=11;break}return this.error=n.body.message,e.abrupt("return");case 11:this.$store.dispatch(h["b"].joinRoom,t),this.$router.push("/chat"),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](4),this.error=this.defaultError,console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[4,15]])}));function t(){return e.apply(this,arguments)}return t}()}},g=b,y=(n("21bb"),Object(i["a"])(g,d,v,!1,null,null,null));y.options.__file="Home.vue";var R=y.exports,_=n("2f62");o["default"].use(_["a"]);var w=new _["a"].Store({state:{room:void 0,username:void 0,status:h["a"].available,rooms:[]},mutations:{joinRoom:function(e,t){var n=t.room,o=t.username;e.room=n,e.username=o},changeRoom:function(e,t){e.room=t},setRooms:function(e,t){e.rooms=t},leaveChat:function(e){e.room=void 0,e.username=void 0},changeStatus:function(e){var t;e.status===h["a"].available&&(t=h["a"].absent),e.status===h["a"].absent&&(t=h["a"].unavailable),e.status===h["a"].unavailable&&(t=h["a"].available),e.status=t}},actions:{joinRoom:function(e,t){var n=e.commit;n("joinRoom",t)},changeRoom:function(e,t){var n=e.commit;n("changeRoom",t)},setRooms:function(e,t){var n=e.commit;n("setRooms",t)},leaveChat:function(e){var t=e.commit;t("leaveChat")},changeStatus:function(e){var t=e.commit;t("changeStatus")}}});o["default"].use(f.a),o["default"].use(l["a"]);var j=new l["a"]({routes:[{path:"/",name:"home",component:R,beforeEnter:function(e,t,n){w.state.room&&w.state.username?n("/chat"):n()}},{path:"/chat",name:"chat",component:function(){return n.e("about").then(n.bind(null,"293a"))},beforeEnter:function(e,t,n){w.state.room||w.state.username?n():n("/")}}]}),x=n("5132"),C=n.n(x),S=n("28dd");n("a1a3");o["default"].use(new C.a({debug:!0,connection:"".concat(h["d"],"/video-chat"),vuex:{store:w,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),o["default"].use(S["a"]),o["default"].config.productionTip=!1,new o["default"]({router:j,store:w,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),r=n.n(o);r.a},"5e27":function(e,t,n){},a1a3:function(e,t,n){},bcc9:function(e,t,n){}});